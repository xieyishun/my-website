---
interface Metric {
  name: string;        // æŒ‡æ ‡å
  change?: string;     // å˜åŒ–ï¼ˆ+5%ã€-3%ï¼‰
  meaning?: string;    // è¿è¥è§£è¯»
}

interface Props {
  title?: string;
  metrics: Metric[];
}

const { title = "ğŸ“Š æŒ‡æ ‡å˜åŒ–", metrics = [] } = Astro.props;
---

<section class="metrics">
  <h2 class="metrics-title">{title}</h2>

  {metrics.length > 0 ? (
    <table class="metrics-table">
      <thead>
        <tr>
          <th>æŒ‡æ ‡</th>
          <th>å˜åŒ–</th>
          <th>è¿è¥è§£è¯»</th>
        </tr>
      </thead>
      <tbody>
        {metrics.map((m) => (
          <tr>
            <td class="metric-name">{m.name}</td>
            <td class="metric-change">{m.change ?? "â€”"}</td>
            <td class="metric-meaning">{m.meaning ?? "æš‚æ— è¯´æ˜"}</td>
          </tr>
        ))}
      </tbody>
    </table>
  ) : (
    <p class="empty">æš‚æ— æŒ‡æ ‡æ•°æ®</p>
  )}
</section>

<style>
  .metrics {
    margin: 2rem 0;
    padding: 1.25rem;
    border: 1px solid #eee;
    border-radius: 14px;
    background: #fff;
  }

  .metrics-title {
    margin: 0 0 1rem;
    font-size: 1.25rem;
  }

  .metrics-table {
    width: 100%;
    border-collapse: collapse;
    font-size: 0.95rem;
  }

  .metrics-table th,
  .metrics-table td {
    border: 1px solid #e6e6e6;
    padding: 0.75rem;
    text-align: left;
    vertical-align: top;
  }

  .metrics-table th {
    background: #fafafa;
    font-weight: 600;
  }

  .metric-change {
    font-weight: 600;
    white-space: nowrap;
  }

  .empty {
    color: #666;
    margin: 0;
  }

  @media (max-width: 720px) {
    .metrics-table {
      font-size: 0.85rem;
    }
  }
</style>